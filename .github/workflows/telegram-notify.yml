name: Send new issue to Telegram

# –ó–∞–ø—É—Å–∫–∞—Ç—å —ç—Ç–æ—Ç —Å—Ü–µ–Ω–∞—Ä–∏–π –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –Ω–æ–≤–æ–π Issue
on:
  issues:
    types: [opened]

jobs:
  send-notification:
    runs-on: ubuntu-latest
    steps:
      - name: Send info to Telegram
        env:
          # –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –∏–∑ —Å–µ–∫—Ä–µ—Ç–∞
          BOT_TOKEN: ${{ secrets.TELEGRAM_BOT_TOKEN }}
          # –ò—Å–ø–æ–ª—å–∑—É–µ–º –≤–∞—à Chat ID
          CHAT_ID: '-5261463188'
        run: |
          # –§–æ—Ä–º–∏—Ä—É–µ–º —á–∏—Ç–∞–µ–º–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
          MESSAGE="üõ†Ô∏è *–ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ —Å —Å–∞–π—Ç–∞*%0A%0A**–û—Ç:** ${{ github.event.issue.user.login }}%0A**–¢–µ–º–∞:** ${{ github.event.issue.title }}%0A%0A*–û–ø–∏—Å–∞–Ω–∏–µ:*%0A${{ github.event.issue.body }}%0A%0A[–û—Ç–∫—Ä—ã—Ç—å Issue –≤ GitHub](${{ github.event.issue.html_url }})"

          # –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –≤ Telegram
          curl -s -X POST "https://api.telegram.org/bot${BOT_TOKEN}/sendMessage" \
          -d "chat_id=${CHAT_ID}" \
          -d "text=${MESSAGE}" \
          -d "parse_mode=Markdown" \
          -d "disable_web_page_preview=true"
